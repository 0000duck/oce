language: cpp
compiler:
  - gcc
  - clang
before_script:
  - mkdir cmake-build
  - cd cmake-build
script: cmake -DOCE_VISUALISATION:BOOL=OFF -DOCE_OCAF:BOOL=OFF
        -DOCE_DATAEXCHANGE:BOOL=OFF .. && echo "" &&
        if test -x /usr/bin/getconf; then echo "Starting build with -j$(/usr/bin/getconf _NPROCESSORS_ONLN) ...";
        make -j$(/usr/bin/getconf _NPROCESSORS_ONLN); else make; fi
after_script: make test
