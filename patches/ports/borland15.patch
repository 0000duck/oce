From 74bcba198a7c7c4d330856be0d84c592471ca6b0 Mon Sep 17 00:00:00 2001
From: Fotios Sioutis <sfotis@gmail.com>
Date: Wed, 5 Dec 2012 15:02:37 +0200
Subject: [PATCH 1/3] Missing stdio header

---
 src/Image/Image_AlienPixMap.cxx |    1 +
 1 file changed, 1 insertion(+)

From d926c0c32d5b0bf978eb4c8baba1d37a5c2455f2 Mon Sep 17 00:00:00 2001
From: Fotios Sioutis <sfotis@gmail.com>
Date: Wed, 5 Dec 2012 15:05:59 +0200
Subject: [PATCH 2/3] Added io.h header for dup declaration

---
 src/Draw/Draw_Interpretor.cxx |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

From 24b8997c248162a053c6f18b9fa78c7ea77abdcf Mon Sep 17 00:00:00 2001
From: Fotios Sioutis <sfotis@gmail.com>
Date: Thu, 6 Dec 2012 11:12:36 +0200
Subject: [PATCH 3/3] Reflect type changes in wok build system

---
 src/OSD/OSD_DirectoryIterator.cdl   |    2 +-
 src/OSD/OSD_EnvironmentIterator.cdl |    2 +-
 src/OSD/OSD_FileIterator.cdl        |    2 +-
 src/OSD/OSD_FileNode.cdl            |    2 +-
 src/OSD/OSD_SharedMemory.cdl        |    2 +-
 5 files changed, 5 insertions(+), 5 deletions(-)

Index: oce/src/Draw/Draw_Interpretor.cxx
===================================================================
--- oce.orig/src/Draw/Draw_Interpretor.cxx
+++ oce/src/Draw/Draw_Interpretor.cxx
@@ -35,7 +35,7 @@
 #include <tcl.h>
 
 // for capturing of cout and cerr (dup(), dup2())
-#ifdef _MSC_VER
+#if defined (_MSC_VER) || defined(__BORLANDC__)
 #include <io.h>
 #endif
 #ifdef HAVE_UNISTD_H
Index: oce/src/Image/Image_AlienPixMap.cxx
===================================================================
--- oce.orig/src/Image/Image_AlienPixMap.cxx
+++ oce/src/Image/Image_AlienPixMap.cxx
@@ -29,6 +29,7 @@
 #include <gp.hxx>
 #include <TCollection_AsciiString.hxx>
 #include <fstream>
+#include <stdio.h>
 
 #ifdef HAVE_FREEIMAGE
 namespace
Index: oce/src/OSD/OSD_DirectoryIterator.cdl
===================================================================
--- oce.orig/src/OSD/OSD_DirectoryIterator.cdl
+++ oce/src/OSD/OSD_DirectoryIterator.cdl
@@ -97,7 +97,7 @@ is
       myEntry      : Address ;      -- unused by Windows NT code
       myInit       : Integer ;      -- unused by Windows NT code
       myError      : Error;
-      myHandle     : Integer;   -- Windows NT specific
+      myHandle     : Address;   -- Windows NT specific
       myData       : Address;   -- Windows NT specific
       myFirstCall  : Boolean;   -- Windows NT specific
 end DirectoryIterator from OSD;
Index: oce/src/OSD/OSD_EnvironmentIterator.cdl
===================================================================
--- oce.orig/src/OSD/OSD_EnvironmentIterator.cdl
+++ oce/src/OSD/OSD_EnvironmentIterator.cdl
@@ -72,7 +72,7 @@ is
 
  fields
       myEnv        : Address;         -- Windows NT specific
-      myCount      : Integer;         -- Count in list of variables
+      myCount      : CString;         -- Count in list of variables
       myError      : Error;
 end EnvironmentIterator from OSD;
 
Index: oce/src/OSD/OSD_FileIterator.cdl
===================================================================
--- oce.orig/src/OSD/OSD_FileIterator.cdl
+++ oce/src/OSD/OSD_FileIterator.cdl
@@ -96,7 +96,7 @@ is
       myEntry      : Address ;      -- unused by Windows NT code
       myInit       : Integer ;      -- unused by Windows NT code
       myError      : Error;
-      myHandle     : Integer;   -- Windows NT specific
+      myHandle     : Address;   -- Windows NT specific
       myData       : Address;   -- Windows NT specific
       myFirstCall  : Boolean;   -- Windows NT specific
 end FileIterator from OSD;
Index: oce/src/OSD/OSD_FileNode.cdl
===================================================================
--- oce.orig/src/OSD/OSD_FileNode.cdl
+++ oce/src/OSD/OSD_FileNode.cdl
@@ -130,7 +130,7 @@ is
 
  fields
     myPath              : Path is protected;   -- system independent path name
-    myFileChannel       : Integer is protected; -- file descriptor
+    myFileChannel       : Address is protected; -- file descriptor
     myError             : Error is protected;
 end FileNode from OSD;
 
Index: oce/src/OSD/OSD_SharedMemory.cdl
===================================================================
--- oce.orig/src/OSD/OSD_SharedMemory.cdl
+++ oce/src/OSD/OSD_SharedMemory.cdl
@@ -100,7 +100,7 @@ is
     ---Level: Advanced
 
 fields
-   myId : Integer;     -- Shared memory ID
+   myId : Address;     -- Shared memory ID
    myAddress    : Address;
    myName : AsciiString;   
    mySize : Integer;
Index: oce/inc/OpenGl_GraphicDriver.hxx
===================================================================
--- oce.orig/inc/OpenGl_GraphicDriver.hxx
+++ oce/inc/OpenGl_GraphicDriver.hxx
@@ -23,6 +23,8 @@
 
 #include <Graphic3d_GraphicDriver.hxx>
 #include <Handle_OpenGl_GraphicDriver.hxx>
+#include <Handle_OpenGl_View.hxx>
+#include <Handle_OpenGl_Workspace.hxx>
 #include <OpenGl_Context.hxx>
 
 #include <Standard_CString.hxx>
