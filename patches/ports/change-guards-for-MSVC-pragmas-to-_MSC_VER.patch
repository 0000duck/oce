commit ca6790e0208a5513098a9657420a8261af077ded
Author: QbProg <tholag@gmail.com>
Date:   Thu Mar 17 13:12:18 2011 +0100

    Replaced guards for MSVC specific pragmas from WNT to _MSC_VER
    
    These are mainly #pragma warnings or MSVCRT specific things.
    Left #pragma comment (lib, "") because other compilers seem to support these too.

From 68c342332a2f6348765af35510ee397db05d5a82 Mon Sep 17 00:00:00 2001
From: Muellni <mmuellen@gmx.de>
Date: Tue, 19 Jul 2011 12:32:38 +0200
Subject: [PATCH 06/26] proper MSVC compiler check to fix compilation errors
 for other windows compilers

---
 src/OSD/OSD_MAllocHook.cxx |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

Index: oce/src/DPrsStd/DPrsStd.cxx
===================================================================
--- oce.orig/src/DPrsStd/DPrsStd.cxx
+++ oce/src/DPrsStd/DPrsStd.cxx
@@ -36,7 +36,7 @@
 #endif
 
 // avoid warnings on 'extern "C"' functions returning C++ classes
-#ifdef WNT
+#ifdef _MSC_VER
 #pragma warning(4:4190)
 #endif
 //static Handle(AppStdL_Application) stdApp;
Index: oce/src/IntTools/IntTools.cxx
===================================================================
--- oce.orig/src/IntTools/IntTools.cxx
+++ oce/src/IntTools/IntTools.cxx
@@ -32,7 +32,7 @@
 #include <TColStd_ListIteratorOfListOfReal.hxx>
 #include <gce_ErrorType.hxx>
 
-#ifdef WNT
+#ifdef _MSC_VER
 #pragma warning ( disable : 4101 )
 #endif
 //=======================================================================
@@ -371,6 +371,6 @@
   return 1;
 }
 
-#ifdef WNT
+#ifdef _MSC_VER
 #pragma warning ( default : 4101 )
 #endif
Index: oce/src/IntTools/IntTools_EdgeFace.cxx
===================================================================
--- oce.orig/src/IntTools/IntTools_EdgeFace.cxx
+++ oce/src/IntTools/IntTools_EdgeFace.cxx
@@ -64,7 +64,7 @@
 #include <GeomAdaptor_HSurface.hxx>
 #include <IntCurveSurface_IntersectionPoint.hxx>
 
-#ifdef WNT
+#ifdef _MSC_VER
 #pragma warning ( disable : 4101 )
 #endif
 
@@ -1538,6 +1538,6 @@ Standard_Integer AdaptiveDiscret (const
 }
 
 
-#ifdef WNT
+#ifdef _MSC_VER
 #pragma warning ( default : 4101 )
 #endif
Index: oce/src/OSD/OSD_Environment.cxx
===================================================================
--- oce.orig/src/OSD/OSD_Environment.cxx
+++ oce/src/OSD/OSD_Environment.cxx
@@ -238,7 +238,9 @@ Standard_Integer OSD_Environment::Error(
 
 #include <windows.h>
 
+#ifdef _MSC_VER
 #pragma warning( disable : 4700 )
+#endif
 
 static void __fastcall _set_error ( OSD_Error&, DWORD );
 
Index: oce/src/OSD/OSD_MAllocHook.cxx
===================================================================
--- oce.orig/src/OSD/OSD_MAllocHook.cxx
+++ oce/src/OSD/OSD_MAllocHook.cxx
@@ -80,7 +80,7 @@ OSD_MAllocHook::CollectBySize* OSD_MAllo
 // Platform-dependent methods
 //!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 
-#ifdef WNT
+#ifdef _MSC_VER
 #include <crtdbg.h>
 
 #if _MSC_VER == 1500  /* VS 2008 */
@@ -172,7 +172,7 @@ void OSD_MAllocHook::SetCallback(Callbac
     _CrtSetAllocHook(MyAllocHook);
 }
 
-#else // ! WNT
+#else // ! _MSC_VER
 
 // Not yet implemented for non-WNT platform
 
@@ -181,7 +181,7 @@ void OSD_MAllocHook::SetCallback(Callbac
   MypCurrentCallback = theCB;
 }
 
-#endif // WNT
+#endif // _MSC_VER
 
 //!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 // LogFileHandler handler methods
Index: oce/src/OSD/OSD_Process.cxx
===================================================================
--- oce.orig/src/OSD/OSD_Process.cxx
+++ oce/src/OSD/OSD_Process.cxx
@@ -232,8 +232,9 @@ Standard_Integer OSD_Process::Error()con
 #include <OSD_WNT_1.hxx>
 #include <LMCONS.H> /// pour UNLEN  ( see MSDN about GetUserName() )
 
-
+#ifdef _MSC_VER
 #pragma warning( disable : 4700 )
+#endif
 
 void _osd_wnt_set_error ( OSD_Error&, OSD_WhoAmI, ... );
 
Index: oce/src/Poly/Poly_CoherentNode.cxx
===================================================================
--- oce.orig/src/Poly/Poly_CoherentNode.cxx
+++ oce/src/Poly/Poly_CoherentNode.cxx
@@ -16,7 +16,7 @@
 #include <Poly_CoherentNode.hxx>
 #include <Poly_CoherentTriangle.hxx>
 
-#ifdef WNT
+#ifdef _MSC_VER
 #pragma warning(disable:4996)
 #endif
 
Index: oce/src/Standard/Handle_Standard_Persistent.hxx
===================================================================
--- oce.orig/src/Standard/Handle_Standard_Persistent.hxx
+++ oce/src/Standard/Handle_Standard_Persistent.hxx
@@ -33,7 +33,7 @@
 #include <Standard_Persistent_proto.hxx>
 #endif
 
-#ifdef _WIN32
+#ifdef _MSC_VER
 // Disable the warning "conversion from 'unsigned int' to Standard_Persistent *"
 #pragma warning (push)
 #pragma warning (disable:4312)
@@ -212,7 +212,7 @@ class Handle(Standard_Persistent)
 
 class Standard_Type;
 
-#ifdef _WIN32
+#ifdef _MSC_VER
 #pragma warning (pop)
 #endif
 
Index: oce/src/TObjDRAW/TObjDRAW.cxx
===================================================================
--- oce.orig/src/TObjDRAW/TObjDRAW.cxx
+++ oce/src/TObjDRAW/TObjDRAW.cxx
@@ -40,7 +40,7 @@
 #include <Draw_PluginMacro.hxx>
 
 // avoid warnings on 'extern "C"' functions returning C++ classes
-#ifdef WNT
+#ifdef _MSC_VER
 #pragma warning(4:4190)
 #endif
 
Index: oce/src/TestTopOpe/TestTopOpe.cxx
===================================================================
--- oce.orig/src/TestTopOpe/TestTopOpe.cxx
+++ oce/src/TestTopOpe/TestTopOpe.cxx
@@ -24,7 +24,7 @@
 #include <Draw_PluginMacro.hxx>
 #include <BOPTest.hxx>
 #include <SWDRAW.hxx>
-#ifdef WNT
+#ifdef _MSC_VER
 #pragma warning(4:4190)
 #endif
 
Index: oce/src/TopExp/TopExp_Explorer.cxx
===================================================================
--- oce.orig/src/TopExp/TopExp_Explorer.cxx
+++ oce/src/TopExp/TopExp_Explorer.cxx
@@ -138,7 +138,7 @@ const TopoDS_Shape&  TopExp_Explorer::Cu
 //purpose  : 
 //=======================================================================
 
-#ifdef WNT
+#ifdef _MSC_VER
 #pragma warning(push)
 #pragma warning(disable: 4291) // to avoid warning when using new(buffer) syntax
 #endif
@@ -220,7 +220,7 @@ void  TopExp_Explorer::Next()
   hasMore = Standard_False;
 }
 
-#ifdef WNT
+#ifdef _MSC_VER
 #pragma warning(pop)
 #endif
 
Index: oce/src/ViewerTest/ViewerTest.cxx
===================================================================
--- oce.orig/src/ViewerTest/ViewerTest.cxx
+++ oce/src/ViewerTest/ViewerTest.cxx
@@ -67,7 +67,7 @@
 #include <ViewerTest.hxx>
 
 // avoid warnings on 'extern "C"' functions returning C++ classes
-#ifdef WNT
+#ifdef _MSC_VER
 #define _CRT_SECURE_NO_DEPRECATE
 #pragma warning(4:4190)
 #pragma warning (disable:4996)
Index: oce/src/ViewerTest/ViewerTest_ObjectCommands.cxx
===================================================================
--- oce.orig/src/ViewerTest/ViewerTest_ObjectCommands.cxx
+++ oce/src/ViewerTest/ViewerTest_ObjectCommands.cxx
@@ -143,7 +143,7 @@
 #include <Image_AlienPixMap.hxx>
 #include <TColStd_HArray1OfAsciiString.hxx>
 
-#ifdef _WIN32
+#ifdef _MSC_VER
 # define _CRT_SECURE_NO_DEPRECATE
 # pragma warning (disable:4996)
 #endif
Index: oce/src/VrmlData/VrmlData_Geometry.cxx
===================================================================
--- oce.orig/src/VrmlData/VrmlData_Geometry.cxx
+++ oce/src/VrmlData/VrmlData_Geometry.cxx
@@ -32,7 +32,7 @@
 #include <NCollection_Vector.hxx>
 #include <Standard_ErrorHandler.hxx>
 
-#ifdef WNT
+#ifdef _MSC_VER
 #define _CRT_SECURE_NO_DEPRECATE
 #pragma warning (disable:4996)
 #endif
Index: oce/src/VrmlData/VrmlData_Group.cxx
===================================================================
--- oce.orig/src/VrmlData/VrmlData_Group.cxx
+++ oce/src/VrmlData/VrmlData_Group.cxx
@@ -23,7 +23,7 @@
 #include <Precision.hxx>
 #include <gp_Ax1.hxx>
 
-#ifdef WNT
+#ifdef _MSC_VER
 #define _CRT_SECURE_NO_DEPRECATE
 #pragma warning (disable:4996)
 #endif
Index: oce/src/VrmlData/VrmlData_IndexedFaceSet.cxx
===================================================================
--- oce.orig/src/VrmlData/VrmlData_IndexedFaceSet.cxx
+++ oce/src/VrmlData/VrmlData_IndexedFaceSet.cxx
@@ -29,7 +29,7 @@
 #include <Poly.hxx>
 #include <TShort_HArray1OfShortReal.hxx>
 
-#ifdef WNT
+#ifdef _MSC_VER
 #define _CRT_SECURE_NO_DEPRECATE
 #pragma warning (disable:4996)
 #endif
Index: oce/src/VrmlData/VrmlData_IndexedLineSet.cxx
===================================================================
--- oce.orig/src/VrmlData/VrmlData_IndexedLineSet.cxx
+++ oce/src/VrmlData/VrmlData_IndexedLineSet.cxx
@@ -24,7 +24,7 @@
 #include <TopoDS_Edge.hxx>
 #include <TopoDS_Wire.hxx>
 
-#ifdef WNT
+#ifdef _MSC_VER
 #define _CRT_SECURE_NO_DEPRECATE
 #pragma warning (disable:4996)
 #endif
Index: oce/src/VrmlData/VrmlData_Material.cxx
===================================================================
--- oce.orig/src/VrmlData/VrmlData_Material.cxx
+++ oce/src/VrmlData/VrmlData_Material.cxx
@@ -19,7 +19,7 @@
 #include <VrmlData_Scene.hxx>
 #include <gp_XYZ.hxx>
 
-#ifdef WNT
+#ifdef _MSC_VER
 #define _CRT_SECURE_NO_DEPRECATE
 #pragma warning (disable:4996)
 #endif
Index: oce/src/VrmlData/VrmlData_Node.cxx
===================================================================
--- oce.orig/src/VrmlData/VrmlData_Node.cxx
+++ oce/src/VrmlData/VrmlData_Node.cxx
@@ -24,7 +24,7 @@
 #include <gp_XY.hxx>
 #include <gp_XYZ.hxx>
 
-#ifdef WNT
+#ifdef _MSC_VER
 #define _CRT_SECURE_NO_DEPRECATE
 #pragma warning (disable:4996)
 #endif
Index: oce/src/VrmlData/VrmlData_Scene.cxx
===================================================================
--- oce.orig/src/VrmlData/VrmlData_Scene.cxx
+++ oce/src/VrmlData/VrmlData_Scene.cxx
@@ -43,7 +43,7 @@
 #include <BRep_Builder.hxx>
 #include <Precision.hxx>
 
-#ifdef WNT
+#ifdef _MSC_VER
 #define _CRT_SECURE_NO_DEPRECATE
 #pragma warning (disable:4996)
 #endif
Index: oce/src/VrmlData/VrmlData_WorldInfo.cxx
===================================================================
--- oce.orig/src/VrmlData/VrmlData_WorldInfo.cxx
+++ oce/src/VrmlData/VrmlData_WorldInfo.cxx
@@ -17,7 +17,7 @@
 #include <VrmlData_Scene.hxx>
 #include <VrmlData_InBuffer.hxx>
 
-#ifdef WNT
+#ifdef _MSC_VER
 #define _CRT_SECURE_NO_DEPRECATE
 #pragma warning (disable:4996)
 #endif
Index: oce/src/XDEDRAW/XDEDRAW.cxx
===================================================================
--- oce.orig/src/XDEDRAW/XDEDRAW.cxx
+++ oce/src/XDEDRAW/XDEDRAW.cxx
@@ -99,7 +99,7 @@
 
 #define ZVIEW_SIZE 1000000.0
 // avoid warnings on 'extern "C"' functions returning C++ classes
-#ifdef WNT
+#ifdef _MSC_VER
 #pragma warning(4:4190)
 #endif
 
Index: oce/src/XSDRAWSTLVRML/XSDRAWSTLVRML.cxx
===================================================================
--- oce.orig/src/XSDRAWSTLVRML/XSDRAWSTLVRML.cxx
+++ oce/src/XSDRAWSTLVRML/XSDRAWSTLVRML.cxx
@@ -72,7 +72,7 @@
 #include <Bnd_Box.hxx>
 
 // avoid warnings on 'extern "C"' functions returning C++ classes
-#ifdef WNT
+#ifdef _MSC_VER
 #pragma warning(4:4190)
 #endif
 
