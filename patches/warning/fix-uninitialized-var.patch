From de2c73d27693c86051753ee5aa4b95a4bf05ff97 Mon Sep 17 00:00:00 2001
From: QbProg <tholag@gmail.com>
Date: Sat, 19 May 2012 15:54:42 +0200
Subject: [PATCH] [warning-fix][uninitialized-var] Fixes warnings like :
 (potentially) uninitialized local variable 'name' used

A return for the "default" switch case was added, since all the vars
where used uninitialized in that case. Shouldn't happen anyway.
---
 src/AdvApp2Var/AdvApp2Var_Iso.cxx |    1 +
 1 file changed, 1 insertion(+)

Index: oce/src/AIS/AIS_TexturedShape.cxx
===================================================================
--- oce.orig/src/AIS/AIS_TexturedShape.cxx
+++ oce/src/AIS/AIS_TexturedShape.cxx
@@ -264,10 +264,10 @@ void AIS_TexturedShape::Compute (const H
     }
     case 1: // Shading
     {
-      Standard_Real prevangle;
-      Standard_Real newangle;
-      Standard_Real prevcoeff;
-      Standard_Real newcoeff;
+      Standard_Real prevangle = 0.0;
+      Standard_Real newangle = 0.0;
+      Standard_Real prevcoeff = 0.0;
+      Standard_Real newcoeff = 0.0;
 
       Standard_Boolean isOwnDeviationAngle = OwnDeviationAngle(newangle,prevangle);
       Standard_Boolean isOwnDeviationCoefficient = OwnDeviationCoefficient(newcoeff,prevcoeff);
Index: oce/src/AdvApp2Var/AdvApp2Var_Iso.cxx
===================================================================
--- oce.orig/src/AdvApp2Var/AdvApp2Var_Iso.cxx
+++ oce/src/AdvApp2Var/AdvApp2Var_Iso.cxx
@@ -174,6 +174,7 @@ void AdvApp2Var_Iso::MakeApprox(const Ad
   case GeomAbs_NoneIso:
     //pkv t
   default:
+	  return;
     break;
     //#endif
   }
Index: oce/src/ApproxInt/ApproxInt_Approx.gxx
===================================================================
--- oce.orig/src/ApproxInt/ApproxInt_Approx.gxx
+++ oce/src/ApproxInt/ApproxInt_Approx.gxx
@@ -108,7 +108,7 @@ static void  ComputeTrsf2d(const Handle(
     pfunc = &IntSurf_PntOn2S::ParametersOnS2;
   for(Standard_Integer i=1;i<=nbp;i++) { 
     const IntSurf_PntOn2S&  POn2S = theline->Point(i);
-    Standard_Real  U,V;
+    Standard_Real  U=0.0,V=0.0;
     (POn2S.*pfunc)(U,V);
     if(U<u0) u0=U;
     if(U>u1) u1=U;
Index: oce/src/BSplCLib/BSplCLib_2.cxx
===================================================================
--- oce.orig/src/BSplCLib/BSplCLib_2.cxx
+++ oce/src/BSplCLib/BSplCLib_2.cxx
@@ -589,14 +589,14 @@ void BSplCLib::MovePointAndTangent(const
   conditions,
   start_num_poles,
   end_num_poles,
-  index,
+  index = 0,
   start_index,
   end_index,
   other_index,
   type,
   order ;
   
-  Standard_Real    new_parameter,
+  Standard_Real    new_parameter = 0.0,
   value,
   divide,
   end_value,
Index: oce/src/BinMDF/BinMDF_TagSourceDriver.cxx
===================================================================
--- oce.orig/src/BinMDF/BinMDF_TagSourceDriver.cxx
+++ oce/src/BinMDF/BinMDF_TagSourceDriver.cxx
@@ -45,7 +45,7 @@ Standard_Boolean BinMDF_TagSourceDriver:
                                  BinObjMgt_RRelocationTable&  ) const
 {
   Handle(TDF_TagSource) aTag = Handle(TDF_TagSource)::DownCast(theTarget);
-  Standard_Integer aValue;
+  Standard_Integer aValue=0;
   Standard_Boolean ok = theSource >> aValue;
   if (ok)
     aTag->Set(aValue);
Index: oce/src/BinMDataStd/BinMDataStd_IntPackedMapDriver.cxx
===================================================================
--- oce.orig/src/BinMDataStd/BinMDataStd_IntPackedMapDriver.cxx
+++ oce/src/BinMDataStd/BinMDataStd_IntPackedMapDriver.cxx
@@ -70,7 +70,7 @@ Standard_Boolean BinMDataStd_IntPackedMa
   }
   if(aSize) {
     Handle(TColStd_HPackedMapOfInteger) aHMap = new TColStd_HPackedMapOfInteger ();
-    Standard_Integer aKey;
+    Standard_Integer aKey=0;
     for(Standard_Integer i = 0; i< aSize; i++) {
       Standard_Boolean ok = Source >> aKey;
       if (!ok) {
Index: oce/src/BinMDataStd/BinMDataStd_IntegerDriver.cxx
===================================================================
--- oce.orig/src/BinMDataStd/BinMDataStd_IntegerDriver.cxx
+++ oce/src/BinMDataStd/BinMDataStd_IntegerDriver.cxx
@@ -48,7 +48,7 @@ Standard_Boolean BinMDataStd_IntegerDriv
                                  BinObjMgt_RRelocationTable&  ) const
 {
   Handle(TDataStd_Integer) anAtt = Handle(TDataStd_Integer)::DownCast(theTarget);
-  Standard_Integer aValue;
+  Standard_Integer aValue=0;
   Standard_Boolean ok = theSource >> aValue;
   if (ok)
     anAtt->Set(aValue);
Index: oce/src/BinMDataStd/BinMDataStd_RealDriver.cxx
===================================================================
--- oce.orig/src/BinMDataStd/BinMDataStd_RealDriver.cxx
+++ oce/src/BinMDataStd/BinMDataStd_RealDriver.cxx
@@ -48,7 +48,7 @@ Standard_Boolean BinMDataStd_RealDriver:
                                  BinObjMgt_RRelocationTable&  ) const
 {
   Handle(TDataStd_Real) anAtt= Handle(TDataStd_Real)::DownCast(theTarget);
-  Standard_Real aValue;
+  Standard_Real aValue=0.0;
   Standard_Boolean ok = theSource >> aValue;
   if (ok)
     anAtt->Set(aValue);
Index: oce/src/BinMDataXtd/BinMDataXtd_GeometryDriver.cxx
===================================================================
--- oce.orig/src/BinMDataXtd/BinMDataXtd_GeometryDriver.cxx
+++ oce/src/BinMDataXtd/BinMDataXtd_GeometryDriver.cxx
@@ -48,7 +48,7 @@ Standard_Boolean BinMDataXtd_GeometryDri
   Handle(TDataXtd_Geometry) aT = 
     Handle(TDataXtd_Geometry)::DownCast (theTarget);
 
-  Standard_Integer aType;
+  Standard_Integer aType=0;
   Standard_Boolean ok = theSource >> aType;
   if (ok)
     aT->SetType ((TDataXtd_GeometryEnum) aType);
Index: oce/src/BinMFunction/BinMFunction_FunctionDriver.cxx
===================================================================
--- oce.orig/src/BinMFunction/BinMFunction_FunctionDriver.cxx
+++ oce/src/BinMFunction/BinMFunction_FunctionDriver.cxx
@@ -58,7 +58,7 @@ Standard_Boolean BinMFunction_FunctionDr
   Standard_Boolean ok = theSource >> aGUID;
   if (ok) {
     anAtt->SetDriverGUID(aGUID);  
-    Standard_Integer aValue;
+    Standard_Integer aValue=0;
     ok = theSource >> aValue;
     if(ok)
       anAtt->SetFailure(aValue); 
Index: oce/src/BinMNaming/BinMNaming_NamedShapeDriver.cxx
===================================================================
--- oce.orig/src/BinMNaming/BinMNaming_NamedShapeDriver.cxx
+++ oce/src/BinMNaming/BinMNaming_NamedShapeDriver.cxx
@@ -113,7 +113,7 @@ static int TranslateFrom  (const BinObjM
                          TopoDS_Shape&                  theResult,
                          BinTools_ShapeSet&            theShapeSet)
 {
-  Standard_Integer aShapeID, aLocID;
+  Standard_Integer aShapeID=0, aLocID=0;
   Standard_Character aCharOrient;
   Standard_Boolean Ok = theSource >> aShapeID; //TShapeID;
   if(!Ok) return 1;
@@ -169,11 +169,11 @@ Standard_Boolean BinMNaming_NamedShapeDr
   TDF_Label aLabel = theTarget->Label ();
   TNaming_Builder   aBuilder   (aLabel);
   if (aNbShapes == 0) return Standard_False;
-  Standard_Integer aVer;
+  Standard_Integer aVer=0;
   Standard_Boolean ok = theSource >> aVer;
   if(!ok) return Standard_False;
   aTAtt->SetVersion(aVer); //Version
-  Standard_Character aCharEvol;
+  Standard_Character aCharEvol='\0';
   ok = theSource >> aCharEvol;
   if(!ok) return Standard_False;
   TNaming_Evolution anEvol  = EvolutionToEnum(aCharEvol); //Evolution
Index: oce/src/BinMNaming/BinMNaming_NamingDriver.cxx
===================================================================
--- oce.orig/src/BinMNaming/BinMNaming_NamingDriver.cxx
+++ oce/src/BinMNaming/BinMNaming_NamingDriver.cxx
@@ -152,7 +152,7 @@ Standard_Boolean BinMNaming_NamingDriver
   TNaming_Name& aName = anAtt->ChangeName();
   TCollection_ExtendedString aMsg;
 //1. NameType
-  Standard_Character aValue;
+  Standard_Character aValue='\0';
   Standard_Boolean ok = theSource >> aValue;
   Standard_Boolean aNewF = Standard_False;
   if (ok) {
@@ -171,7 +171,7 @@ Standard_Boolean BinMNaming_NamingDriver
       
 //3. Args
       Standard_Integer aNbArgs=0;
-      Standard_Integer anIndx;
+      Standard_Integer anIndx=0;
       Handle(TNaming_NamedShape) aNS;
       ok = theSource >> aNbArgs;
       if (ok) {
Index: oce/src/BinMPrsStd/BinMPrsStd_AISPresentationDriver.cxx
===================================================================
--- oce.orig/src/BinMPrsStd/BinMPrsStd_AISPresentationDriver.cxx
+++ oce/src/BinMPrsStd/BinMPrsStd_AISPresentationDriver.cxx
@@ -50,7 +50,7 @@ Standard_Boolean BinMPrsStd_AISPresentat
                                  BinObjMgt_RRelocationTable&  ) const
 {
   Handle(TPrsStd_AISPresentation) anAtt = Handle(TPrsStd_AISPresentation)::DownCast(theTarget);
-  Standard_Integer aValue;
+  Standard_Integer aValue = 0;
 //Display status
   Standard_Boolean ok = theSource >> aValue;
   if (!ok) return ok;
@@ -75,7 +75,7 @@ Standard_Boolean BinMPrsStd_AISPresentat
   else anAtt->UnsetMaterial();
 
 //Transparency
-  Standard_Real aRValue;
+  Standard_Real aRValue = 0.0;
   ok = theSource >> aRValue;
   if (!ok) return ok;
   if(aRValue != -1.)  anAtt->SetTransparency(aRValue);
Index: oce/src/BinMPrsStd/BinMPrsStd_PositionDriver.cxx
===================================================================
--- oce.orig/src/BinMPrsStd/BinMPrsStd_PositionDriver.cxx
+++ oce/src/BinMPrsStd/BinMPrsStd_PositionDriver.cxx
@@ -52,7 +52,7 @@ Standard_Boolean BinMPrsStd_PositionDriv
                                  BinObjMgt_RRelocationTable&  ) const
 {
   Handle(TDataXtd_Position) anAtt = Handle(TDataXtd_Position)::DownCast(theTarget);
-  Standard_Real aValue;
+  Standard_Real aValue = 0.0;
   Standard_Boolean ok = theSource >> aValue;
   if (!ok) return ok;
   gp_Pnt aPosition(0., 0., 0.);
Index: oce/src/BinMXCAFDoc/BinMXCAFDoc_AreaDriver.cxx
===================================================================
--- oce.orig/src/BinMXCAFDoc/BinMXCAFDoc_AreaDriver.cxx
+++ oce/src/BinMXCAFDoc/BinMXCAFDoc_AreaDriver.cxx
@@ -41,7 +41,7 @@ Standard_Boolean BinMXCAFDoc_AreaDriver:
 					       BinObjMgt_RRelocationTable& ) const 
 {
   Handle(XCAFDoc_Area) anAtt = Handle(XCAFDoc_Area)::DownCast(theTarget);
-  Standard_Real aValue;
+  Standard_Real aValue = 0.0;
   Standard_Boolean isOk = theSource >> aValue;
   if(isOk)
     anAtt->Set(aValue);
Index: oce/src/BinMXCAFDoc/BinMXCAFDoc_CentroidDriver.cxx
===================================================================
--- oce.orig/src/BinMXCAFDoc/BinMXCAFDoc_CentroidDriver.cxx
+++ oce/src/BinMXCAFDoc/BinMXCAFDoc_CentroidDriver.cxx
@@ -41,7 +41,7 @@ Standard_Boolean BinMXCAFDoc_CentroidDri
 						   BinObjMgt_RRelocationTable& /*theRelocTable*/) const
 {
   Handle(XCAFDoc_Centroid) anAtt = Handle(XCAFDoc_Centroid)::DownCast(theTarget);
-  Standard_Real x, y, z;
+  Standard_Real x =0.0, y = 0.0, z=0.0;
   Standard_Boolean isOk = theSource >> x >> y >> z;
   if(isOk) {
     gp_Pnt aPnt(x, y, z);
Index: oce/src/BinMXCAFDoc/BinMXCAFDoc_ColorDriver.cxx
===================================================================
--- oce.orig/src/BinMXCAFDoc/BinMXCAFDoc_ColorDriver.cxx
+++ oce/src/BinMXCAFDoc/BinMXCAFDoc_ColorDriver.cxx
@@ -41,7 +41,7 @@ Standard_Boolean BinMXCAFDoc_ColorDriver
 						BinObjMgt_RRelocationTable& /*theRelocTable*/) const 
 {
   Handle(XCAFDoc_Color) anAtt = Handle(XCAFDoc_Color)::DownCast(theTarget);
-  Standard_Real R, G, B;
+  Standard_Real R=0.0, G=0.0, B=0.0;
   Standard_Boolean isOk = theSource >> R >> G >> B;
   if(isOk) {
     anAtt->Set(R, G, B);
Index: oce/src/BinMXCAFDoc/BinMXCAFDoc_VolumeDriver.cxx
===================================================================
--- oce.orig/src/BinMXCAFDoc/BinMXCAFDoc_VolumeDriver.cxx
+++ oce/src/BinMXCAFDoc/BinMXCAFDoc_VolumeDriver.cxx
@@ -41,7 +41,7 @@ Standard_Boolean BinMXCAFDoc_VolumeDrive
 						 BinObjMgt_RRelocationTable& /*theRelocTable*/) const
 {
   Handle(XCAFDoc_Volume) anAtt = Handle(XCAFDoc_Volume)::DownCast(theTarget);
-  Standard_Real aVol;
+  Standard_Real aVol=0.0;
   Standard_Boolean isOk = theSource >> aVol;
   if(isOk)
     anAtt->Set(aVol);
Index: oce/src/LDOM/LDOM_BasicElement.cxx
===================================================================
--- oce.orig/src/LDOM/LDOM_BasicElement.cxx
+++ oce/src/LDOM/LDOM_BasicElement.cxx
@@ -223,7 +223,7 @@ const LDOM_BasicNode * LDOM_BasicElement
                                    const LDOM_BasicNode           * aLastCh)
 {
   //  Create attribute
-  Standard_Integer aHash;
+  Standard_Integer aHash = 0;
   LDOM_BasicAttribute& anAttr =
     LDOM_BasicAttribute::Create (anAttrName, aDocument, aHash);
   anAttr.myValue = anAttrValue;
@@ -453,7 +453,7 @@ void LDOM_BasicElement::ReplaceElement
 loop_attr:
   LDOM_BasicNode * aLastAttr = (LDOM_BasicNode *) aLastChild;
   for (; aBNode != NULL; aBNode = aBNode -> GetSibling()) {
-    Standard_Integer aHash;
+    Standard_Integer aHash = 0;
     if (aBNode -> isNull()) continue;
     const LDOM_BasicAttribute * aBNodeAtt= (const LDOM_BasicAttribute *) aBNode;
     LDOM_BasicAttribute * aNewAtt =
Index: oce/src/OSD/OSD_signal_WNT.cxx
===================================================================
--- oce.orig/src/OSD/OSD_signal_WNT.cxx
+++ oce/src/OSD/OSD_signal_WNT.cxx
@@ -531,7 +531,7 @@ LONG _osd_debug ( void ) {
   TCHAR               keyValue[ MAX_PATH ];
   TCHAR               cmdLine[ MAX_PATH ];
   SECURITY_ATTRIBUTES sa;
-  PROCESS_INFORMATION pi;
+  PROCESS_INFORMATION pi = {};
   STARTUPINFO         si;
 
   __try {
