From c49437e5da3a0baa01cfd95549b088a10702f597 Mon Sep 17 00:00:00 2001
From: tpaviot <tpaviot@gmail.com>
Date: Sun, 3 Jun 2012 17:06:04 +0200
Subject: [PATCH] [clang-warning-fix][dangling-else]

---
 src/ProjLib/ProjLib_ComputeApproxOnPolarSurface.cxx     |   15 ++++++++++-----
 .../ShapeAnalysis_TransferParametersProj.cxx            |    5 +++--
 2 files changed, 13 insertions(+), 7 deletions(-)

Index: oce/src/ProjLib/ProjLib_ComputeApproxOnPolarSurface.cxx
===================================================================
--- oce.orig/src/ProjLib/ProjLib_ComputeApproxOnPolarSurface.cxx
+++ oce/src/ProjLib/ProjLib_ComputeApproxOnPolarSurface.cxx
@@ -761,11 +761,12 @@ Handle(Adaptor2d_HCurve2d)
 	for ( i = 2 ; i <= NbOfPnts ; i++) { 
 	  Sloc = S;
 	  ElSLib::Parameters( Cylinder, Pts(i), S, T);
-	  if(Abs(Sloc - S) > M_PI)
+	  if(Abs(Sloc - S) > M_PI) {
 	    if(Sloc > S)
 	      usens++;
 	    else
 	      usens--;
+        }
 	  Pts2d(i).SetCoord(S+usens*2*M_PI,T);
 	}
 	myProjIsDone = Standard_True;
@@ -782,11 +783,12 @@ Handle(Adaptor2d_HCurve2d)
 	for ( i = 2 ; i <= NbOfPnts ; i++) { 
 	  Sloc = S;
 	  ElSLib::Parameters( Cone, Pts(i), S, T);
-	  if(Abs(Sloc - S) > M_PI)
+	  if(Abs(Sloc - S) > M_PI) {
 	    if(Sloc > S)
 	      usens++;
 	    else
 	      usens--;
+        }
 	  Pts2d(i).SetCoord(S+usens*2*M_PI,T);
 	}
 	myProjIsDone = Standard_True;
@@ -803,11 +805,12 @@ Handle(Adaptor2d_HCurve2d)
 	for ( i = 2 ; i <= NbOfPnts ; i++) { 
 	  Sloc = S;Tloc = T;
 	  ElSLib::Parameters( Sphere, Pts(i), S, T);
-	  if(1.6*M_PI < Abs(Sloc - S))
+	  if(1.6*M_PI < Abs(Sloc - S)) {
 	    if(Sloc > S)
 	      usens += 2;
 	    else
 	      usens -= 2;
+        }
 	  if(1.6*M_PI > Abs(Sloc - S) && Abs(Sloc - S) > 0.4*M_PI) {
 	    vparit = !vparit;
 	    if(Sloc > S)
@@ -840,16 +843,18 @@ Handle(Adaptor2d_HCurve2d)
 	for ( i = 2 ; i <= NbOfPnts ; i++) { 
 	  Sloc = S; Tloc = T;
 	  ElSLib::Parameters( Torus, Pts(i), S, T);
-	  if(Abs(Sloc - S) > M_PI)
+	  if(Abs(Sloc - S) > M_PI) {
 	    if(Sloc > S)
 	      usens++;
 	    else
 	      usens--;
-	  if(Abs(Tloc - T) > M_PI)
+        }
+	  if(Abs(Tloc - T) > M_PI) {
 	    if(Tloc > T)
 	      vsens++;
 	    else
 	      vsens--;
+        }
 	  Pts2d(i).SetCoord(S+usens*2*M_PI,T+vsens*2*M_PI);
 	}
 	myProjIsDone = Standard_True;
Index: oce/src/ShapeAnalysis/ShapeAnalysis_TransferParametersProj.cxx
===================================================================
--- oce.orig/src/ShapeAnalysis/ShapeAnalysis_TransferParametersProj.cxx
+++ oce/src/ShapeAnalysis/ShapeAnalysis_TransferParametersProj.cxx
@@ -148,11 +148,12 @@ Handle(TColStd_HSequenceOfReal) ShapeAna
   
   //pdn correcting on periodic
   if(myCurve->IsClosed())
-    for(j = len; j >=1; j--) 
-      if(resKnots->Value(j) < maxPar)
+    for(j = len; j >=1; j--) {
+      if(resKnots->Value(j) < maxPar) 
 	resKnots->SetValue(j,(To2d ? myAC3d.LastParameter() : myCurve->LastParameter())-(len-j)*preci);
       else
 	break;
+      }
   //pdn correction on range
   for ( j=1; j <= len; j++ ) {
     if ( resKnots->Value (j) < first ) resKnots->SetValue ( j, first );
Index: oce/src/ViewerTest/ViewerTest.cxx
===================================================================
--- oce.orig/src/ViewerTest/ViewerTest.cxx
+++ oce/src/ViewerTest/ViewerTest.cxx
@@ -1157,11 +1157,12 @@ static int VColor2 (Draw_Interpretor& di
       while ( it.More() ) {
         const Handle(AIS_InteractiveObject) ashape =
           Handle(AIS_InteractiveObject)::DownCast(it.Key1());
-        if (!ashape.IsNull())
+        if (!ashape.IsNull()) {
           if(HaveToSet)
             TheAISContext()->SetColor(ashape,ViewerTest::GetColorFromName(argv[1]),Standard_False);
           else
             TheAISContext()->UnsetColor(ashape,Standard_False);
+        }
         it.Next();
       }
       TheAISContext()->UpdateCurrentViewer();
@@ -1254,11 +1255,12 @@ static int VTransparency  (Draw_Interpre
       while ( it.More() ) {
         Handle(AIS_InteractiveObject) ashape =
           Handle(AIS_InteractiveObject)::DownCast(it.Key1());
-        if (!ashape.IsNull())
+        if (!ashape.IsNull()) {
           if(HaveToSet)
             TheAISContext()->SetTransparency(ashape,Draw::Atof(argv[1]),Standard_False);
           else
             TheAISContext()->UnsetTransparency(ashape,Standard_False);
+        }
         it.Next();
       }
       TheAISContext()->UpdateCurrentViewer();
@@ -1310,11 +1312,12 @@ static int VMaterial (Draw_Interpretor&
     if ( ThereIsName && IsBound ) {
       Handle(AIS_InteractiveObject) ashape =
         Handle(AIS_InteractiveObject)::DownCast (GetMapOfAIS().Find2(name));
-      if (!ashape.IsNull())
+      if (!ashape.IsNull()) {
         if (HaveToSet)
           TheAISContext()->SetMaterial(ashape,GetMaterialFromName(argv[2]));
         else
           TheAISContext()->UnsetMaterial(ashape);
+      }
     }
     //=======================================================================
     // Il n'y a pas de nom de shape
@@ -1344,11 +1347,12 @@ static int VMaterial (Draw_Interpretor&
       while ( it.More() ) {
         Handle(AIS_InteractiveObject) ashape =
           Handle(AIS_InteractiveObject)::DownCast (it.Key1());
-        if (!ashape.IsNull())
+        if (!ashape.IsNull()) {
           if (HaveToSet)
             TheAISContext()->SetMaterial(ashape,GetMaterialFromName(argv[1]),Standard_False);
           else
             TheAISContext()->UnsetMaterial(ashape,Standard_False);
+        }
         it.Next();
       }
       TheAISContext()->UpdateCurrentViewer();
@@ -1438,11 +1442,12 @@ static int VWidth (Draw_Interpretor& di,
      while ( it.More() ) {
        Handle(AIS_InteractiveObject) ashape =
          Handle(AIS_InteractiveObject)::DownCast (it.Key1());
-       if (!ashape.IsNull())
+       if (!ashape.IsNull()) {
          if (HaveToSet)
            TheAISContext()->SetWidth(ashape,Draw::Atof(argv[1]),Standard_False);
          else
            TheAISContext()->UnsetWidth(ashape,Standard_False);
+       }
        it.Next();
      }
      TheAISContext()->UpdateCurrentViewer();
