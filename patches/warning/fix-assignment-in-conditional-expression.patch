From: QbProg <tholag@gmail.com>
Date: Thu, 12 May 2011 20:48:09 +0200
Subject: [PATCH 19/82] [warning-fix][assignment-in-conditional-expression]

Fixes warnings like : assignment in conditional expression
---
 src/OSD/OSD.cxx                   |    6 +++---
 src/OSD/OSD_Real2String.cxx       |    4 ++--
 src/OSD/OSD_WNT.cxx               |    8 ++++----
 src/Resource/Resource_Manager.cxx |    2 +-
 src/Standard/Standard_MMgrOpt.cxx |    2 +-
 5 files changed, 11 insertions(+), 11 deletions(-)

From: QbProg <tholag@gmail.com>
Date: Sat, 11 Jun 2011 20:00:09 +0200
Subject: [PATCH 20/82] [warning-fix][assignment-in-conditional-expression]

Fixed some assignments in conditional expressions
---
 src/BRepTest/BRepTest_CheckCommands.cxx |    2 +-
 src/Draw/Draw_Window.cxx                |    2 +-
 src/Draw/MainWindow.cxx                 |   10 +++++-----
 src/TestTopOpe/TestTopOpe_BOOP.cxx      |   10 +++++-----
 4 files changed, 12 insertions(+), 12 deletions(-)

From: QbProg <tholag@gmail.com>
Date: Sun, 12 Jun 2011 12:11:41 +0200
Subject: [PATCH 21/82] [warning-fix][assignment-in-conditional-expression]

Also fixed a bug in TrimShellCorner due to a missing ==
---
 src/BRepFill/BRepFill_TrimShellCorner.cxx     |    4 ++--
 src/Geom2dGcc/Geom2dGcc_Lin2dTanObl.cxx       |    6 +++---
 src/GeomPlate/GeomPlate_BuildPlateSurface.cxx |    2 +-
 3 files changed, 6 insertions(+), 6 deletions(-)

From: QbProg <tholag@gmail.com>
Date: Fri, 17 Jun 2011 21:10:55 +0200
Subject: [PATCH 22/82] [warning-fix][assignment-in-conditional-expression]

---
 inc/Extrema_GExtCC.gxx |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

From: QbProg <tholag@gmail.com>
Date: Sun, 19 Jun 2011 18:14:47 +0200
Subject: [PATCH 23/82] [warning-fix][assignment-in-conditional-expression]
 Fixes warnings like : assignment in conditional
 expression

---
 src/BRepClass3d/BRepClass3d_Intersector3d.cxx  |    4 ++--
 src/BRepTopAdaptor/BRepTopAdaptor_FClass2d.cxx |    8 ++++----
 src/CGM/Gestfic.cxx                            |    4 ++--
 src/Graphic2d/Graphic2d_Drawer.cxx             |    2 +-
 src/Graphic2d/Graphic2d_FramedText.cxx         |    6 +++---
 src/Graphic2d/Graphic2d_HidingText.cxx         |    6 +++---
 src/Graphic2d/Graphic2d_Paragraph.cxx          |    2 +-
 src/Graphic2d/Graphic2d_Text.cxx               |    6 +++---
 src/IntTools/IntTools_FClass2d.cxx             |    4 ++--
 src/OpenGl/OpenGl_togl_begin_animation.cxx     |    2 +-
 src/OpenGl/OpenGl_txgl.cxx                     |    4 ----
 src/PlotMgt/PlotMgt_Plotter.cxx                |    2 +-
 src/Standard/Standard.cxx                      |   14 +++++++-------
 src/TDataXtd/TDataXtd_Constraint.cxx           |    2 +-
 src/Visual3d/Visual3d_View.cxx                 |    2 +-
 15 files changed, 32 insertions(+), 36 deletions(-)

Index: oce/src/AlienImage/AlienImage_SGIRGBAlienData.cxx
===================================================================
--- oce.orig/src/AlienImage/AlienImage_SGIRGBAlienData.cxx
+++ oce/src/AlienImage/AlienImage_SGIRGBAlienData.cxx
@@ -710,7 +710,7 @@ static int img_rle_compact(	unsigned sho
 #define doexpand				\
 	while(1) {				\
 	    pixel = *iptr++;			\
-	    if ( !(bblcount = (pixel & 0x7f)) )	\
+	    if ( (bblcount = (pixel & 0x7f)) == 0)	\
 		return;				\
 	    if(pixel & 0x80) {			\
 	       while(bblcount--)		\
Index: oce/src/BRepClass3d/BRepClass3d_Intersector3d.cxx
===================================================================
--- oce.orig/src/BRepClass3d/BRepClass3d_Intersector3d.cxx
+++ oce/src/BRepClass3d/BRepClass3d_Intersector3d.cxx
@@ -63,9 +63,9 @@ void BRepClass3d_Intersector3d::Perform(
 
   Standard_Boolean IsUPer, IsVPer;
   Standard_Real uperiod=0, vperiod=0;
-  if ((IsUPer = surface.IsUPeriodic()))
+  if ((IsUPer = surface.IsUPeriodic()) == Standard_True)
     uperiod = surface.UPeriod();
-  if ((IsVPer = surface.IsVPeriodic()))
+  if ((IsVPer = surface.IsVPeriodic()) == Standard_True)
     vperiod = surface.VPeriod();
 
   Standard_Real U1, U2, V1, V2;
Index: oce/src/BRepFill/BRepFill_TrimShellCorner.cxx
===================================================================
--- oce.orig/src/BRepFill/BRepFill_TrimShellCorner.cxx
+++ oce/src/BRepFill/BRepFill_TrimShellCorner.cxx
@@ -883,8 +883,8 @@ Standard_Boolean SplitUEdges(const Handl
         //const BOPTools_VVInterference& aVV = aVVs(vvit);
         const BOPDS_InterfVV& aVV = aVVs(vvit);
 
-        if(((vindex1 == aVV.Index1()) && (vindex2 = aVV.Index2())) ||
-           ((vindex1 == aVV.Index2()) && (vindex2 = aVV.Index1()))) {
+        if(((vindex1 == aVV.Index1()) && (vindex2 == aVV.Index2())) ||
+           ((vindex1 == aVV.Index2()) && (vindex2 == aVV.Index1()))) {
 
           if(!aVV.HasIndexNew()) {
             continue;
Index: oce/src/BRepTest/BRepTest_CheckCommands.cxx
===================================================================
--- oce.orig/src/BRepTest/BRepTest_CheckCommands.cxx
+++ oce/src/BRepTest/BRepTest_CheckCommands.cxx
@@ -1446,7 +1446,7 @@ static Standard_Integer clintedge(Draw_I
   TopOpeBRepTool_PurgeInternalEdges mypurgealgo(S);
   Standard_Integer nbedges;
 
-  if ((nbedges = mypurgealgo.NbEdges())) {
+  if ((nbedges = mypurgealgo.NbEdges()) != 0) {
 
     //cout<<nbedges<<" internal (or external) edges to be removed"<<endl;
     di<<nbedges<<" internal (or external) edges to be removed"<<"\n";
Index: oce/src/BRepTopAdaptor/BRepTopAdaptor_FClass2d.cxx
===================================================================
--- oce.orig/src/BRepTopAdaptor/BRepTopAdaptor_FClass2d.cxx
+++ oce/src/BRepTopAdaptor/BRepTopAdaptor_FClass2d.cxx
@@ -427,9 +427,9 @@ TopAbs_State BRepTopAdaptor_FClass2d::Pe
   surf->ChangeSurface().Initialize( Face, Standard_False );
   Standard_Boolean IsUPer, IsVPer;
   Standard_Real uperiod=0, vperiod=0;
-  if ((IsUPer = surf->IsUPeriodic()))
+  if ((IsUPer = surf->IsUPeriodic()) == Standard_True)
     uperiod = surf->UPeriod();
-  if ((IsVPer = surf->IsVPeriodic()))
+  if ((IsVPer = surf->IsVPeriodic()) == Standard_True)
     vperiod = surf->VPeriod();
   TopAbs_State Status = TopAbs_UNKNOWN;
   Standard_Boolean urecadre = Standard_False, vrecadre = Standard_False;
@@ -563,9 +563,9 @@ TopAbs_State BRepTopAdaptor_FClass2d::Te
   surf->ChangeSurface().Initialize( Face, Standard_False );
   Standard_Boolean IsUPer, IsVPer;
   Standard_Real uperiod=0, vperiod=0;
-  if ((IsUPer = surf->IsUPeriodic()))
+  if ((IsUPer = surf->IsUPeriodic()) == Standard_True)
     uperiod = surf->UPeriod();
-  if ((IsVPer = surf->IsVPeriodic()))
+  if ((IsVPer = surf->IsVPeriodic())== Standard_True) 
     vperiod = surf->VPeriod();
   TopAbs_State Status = TopAbs_UNKNOWN;
   Standard_Boolean urecadre = Standard_False, vrecadre = Standard_False;
Index: oce/src/Draw/Draw_Window.cxx
===================================================================
--- oce.orig/src/Draw/Draw_Window.cxx
+++ oce/src/Draw/Draw_Window.cxx
@@ -2022,7 +2022,7 @@ Standard_Boolean Init_Appli(HINSTANCE hI
 
     hWndFrame = NULL;
 
-  else if (hWndFrame = CreateAppWindow(hInst))
+  else if ((hWndFrame = CreateAppWindow(hInst)) != NULL)
   {
     ShowWindow(hWndFrame,nShow);
     UpdateWindow(hWndFrame);
Index: oce/src/Draw/MainWindow.cxx
===================================================================
--- oce.orig/src/Draw/MainWindow.cxx
+++ oce/src/Draw/MainWindow.cxx
@@ -103,7 +103,7 @@ BOOL CommandProc(HWND hWndFrame, WPARAM
   switch (LOWORD(wParam))
 	{
 	  case IDM_WINDOW_NEXT :
-					if(hWndClient = (HWND)GetWindowLong(hWndFrame, CLIENTWND))
+					if((hWndClient = (HWND)GetWindowLong(hWndFrame, CLIENTWND)) != NULL)
 					{
 						hWndActive = (HWND)SendMessage(hWndClient, WM_MDIGETACTIVE, 0, 0l);
 						SendMessage(hWndClient, WM_MDINEXT, (WPARAM)hWndActive, 0l);  
@@ -111,17 +111,17 @@ BOOL CommandProc(HWND hWndFrame, WPARAM
 					break;
 
 		case IDM_WINDOW_CASCADE :
-					if(hWndClient = (HWND)GetWindowLong(hWndFrame, CLIENTWND))
+					if((hWndClient = (HWND)GetWindowLong(hWndFrame, CLIENTWND)) != NULL)
 						SendMessage(hWndClient, WM_MDICASCADE, 0, 0l);
 					break;
 					 
 		case IDM_WINDOW_TILEHOR :
-					if(hWndClient = (HWND)GetWindowLong(hWndFrame, CLIENTWND))
+					if((hWndClient = (HWND)GetWindowLong(hWndFrame, CLIENTWND)) != NULL)
 						SendMessage(hWndClient, WM_MDITILE, MDITILE_HORIZONTAL, 0l);
 					break;
 
 		case IDM_WINDOW_TILEVERT :
-					if(hWndClient = (HWND)GetWindowLong(hWndFrame, CLIENTWND))
+					if((hWndClient = (HWND)GetWindowLong(hWndFrame, CLIENTWND)) != NULL)
 						SendMessage(hWndClient, WM_MDITILE, MDITILE_VERTICAL, 0l);
 					break;
 		
Index: oce/src/Extrema/Extrema_GExtCC.gxx
===================================================================
--- oce.orig/src/Extrema/Extrema_GExtCC.gxx
+++ oce/src/Extrema/Extrema_GExtCC.gxx
@@ -206,7 +206,7 @@ void Extrema_GExtCC::Perform()
     //analytical case - one curve is always a line
     Standard_Integer anInd1 = 0, anInd2 = 1;
     GeomAbs_CurveType aType2 = type2;
-    if (inverse = (type1 > type2)) {
+    if ((inverse = (type1 > type2)) == Standard_True ) {
       //algorithm uses inverse order of arguments
       anInd1 = 1;
       anInd2 = 0;
Index: oce/src/Geom2dGcc/Geom2dGcc_Lin2dTanObl.cxx
===================================================================
--- oce.orig/src/Geom2dGcc/Geom2dGcc_Lin2dTanObl.cxx
+++ oce/src/Geom2dGcc/Geom2dGcc_Lin2dTanObl.cxx
@@ -59,7 +59,7 @@ Geom2dGcc_Lin2dTanObl::
     gp_Circ2d c1(CCC1->Circ2d());
     GccEnt_QualifiedCirc Qc1=GccEnt_QualifiedCirc(c1,Qualified1.Qualifier());
     GccAna_Lin2dTanObl Lin(Qc1,TheLine,Angle);
-    if((WellDone = Lin.IsDone())) { 
+    if((WellDone = Lin.IsDone()) == Standard_True) { 
       NbrSol = Lin.NbSolutions();
       for (Standard_Integer i = 1 ; i <= NbrSol ; i++) {
 	linsol(i)    = Lin.ThisSolution(i);
@@ -123,7 +123,7 @@ Geom2dGcc_Lin2dTanObl::
     gp_Circ2d c1(CCC1->Circ2d());
     GccEnt_QualifiedCirc Qc1=GccEnt_QualifiedCirc(c1,Qualified1.Qualifier());
     GccAna_Lin2dTanObl Lin(Qc1,TheLine,Angle);
-    if((WellDone = Lin.IsDone())) { 
+    if((WellDone = Lin.IsDone()) == Standard_True) { 
       NbrSol = Lin.NbSolutions();
       for (Standard_Integer i = 1 ; i <= NbrSol ; i++) {
 	linsol(i)    = Lin.ThisSolution(i);
@@ -136,7 +136,7 @@ Geom2dGcc_Lin2dTanObl::
   else {
     Geom2dGcc_MyQCurve Qc1(C1,Qualified1.Qualifier());
     Geom2dGcc_MyL2dTanObl Lin(Qc1,TheLine,TolAng,Param1,Angle);
-    if((WellDone = Lin.IsDone())) { 
+    if((WellDone = Lin.IsDone()) == Standard_True) { 
       linsol(1)    = Lin.ThisSolution();
       Lin.Tangency1(par1sol(1),pararg1(1),pnttg1sol(1));
       Lin.Intersection2(par2sol(1),pararg2(1),pntint2sol(1));
Index: oce/src/GeomPlate/GeomPlate_BuildPlateSurface.cxx
===================================================================
--- oce.orig/src/GeomPlate/GeomPlate_BuildPlateSurface.cxx
+++ oce/src/GeomPlate/GeomPlate_BuildPlateSurface.cxx
@@ -1358,7 +1358,7 @@ void GeomPlate_BuildPlateSurface::Comput
 
   Standard_Boolean CourbeJoint=Standard_False;
   
-  if (NTLinCont != 0 && (CourbeJoint = CourbeJointive( myTol3d )) && IsOrderG1())
+  if (NTLinCont != 0 && ((CourbeJoint = CourbeJointive( myTol3d )) != 0) && IsOrderG1())
     {
       nopt = 3;
       // Tableau contenant le nuage de point pour le calcul du plan
Index: oce/src/IntTools/IntTools_FClass2d.cxx
===================================================================
--- oce.orig/src/IntTools/IntTools_FClass2d.cxx
+++ oce/src/IntTools/IntTools_FClass2d.cxx
@@ -701,9 +701,9 @@ IntTools_FClass2d::IntTools_FClass2d()
   surf->ChangeSurface().Initialize( Face, Standard_False );
   Standard_Boolean IsUPer, IsVPer;
   Standard_Real uperiod=0, vperiod=0;
-  if ((IsUPer = surf->IsUPeriodic()))
+  if ((IsUPer = surf->IsUPeriodic()) == Standard_True)
     uperiod = surf->UPeriod();
-  if ((IsVPer = surf->IsVPeriodic()))
+  if ((IsVPer = surf->IsVPeriodic()) == Standard_True)
     vperiod = surf->VPeriod();
   TopAbs_State Status = TopAbs_UNKNOWN;
   Standard_Boolean urecadre = Standard_False, vrecadre = Standard_False;
Index: oce/src/OSD/OSD.cxx
===================================================================
--- oce.orig/src/OSD/OSD.cxx
+++ oce/src/OSD/OSD.cxx
@@ -42,7 +42,7 @@ Standard_Boolean OSD::RealToCString(cons
 
   // Suppress "e+00" and unsignificant 0's 
 
-  if ((p = strchr(aString,'e'))) {
+  if ((p = strchr(aString,'e')) != 0) {
     if (!strcmp(p,"e+00"))
       *p = 0 ;
     for (q = p-1 ; *q == '0' ; q--) ;
Index: oce/src/OSD/OSD_WNT.cxx
===================================================================
--- oce.orig/src/OSD/OSD_WNT.cxx
+++ oce/src/OSD/OSD_WNT.cxx
@@ -995,11 +995,11 @@ retry:
 
      if ( pFD -> dwFileAttributes & FILE_ATTRIBUTE_DIRECTORY ) {
 
-      if (   !(  retVal = MoveDirectory ( pFullNameSrc, pFullNameDst )  )   ) break;
+      if (   FALSE == (  retVal = MoveDirectory ( pFullNameSrc, pFullNameDst )  )   ) break;
    
      } else {
 retry_1:   
-      if (   !(  retVal = MoveFileEx (
+      if (   FALSE == (  retVal = MoveFileEx (
                            pFullNameSrc, pFullNameDst,
                            MOVEFILE_REPLACE_EXISTING | MOVEFILE_COPY_ALLOWED
                           )
@@ -1155,11 +1155,11 @@ BOOL CopyDirectory ( LPCTSTR dirSrc, LPC
 
      if ( pFD -> dwFileAttributes & FILE_ATTRIBUTE_DIRECTORY ) {
 
-      if (   !(  retVal = CopyDirectory ( pFullNameSrc, pFullNameDst )  )   ) break;
+      if (   FALSE == (  retVal = CopyDirectory ( pFullNameSrc, pFullNameDst )  )   ) break;
    
      } else {
 retry:   
-      if (   !(  retVal = CopyFile ( pFullNameSrc, pFullNameDst, FALSE )  )   ) {
+      if (   FALSE == (  retVal = CopyFile ( pFullNameSrc, pFullNameDst, FALSE )  )   ) {
       
        if ( _response_dir_proc != NULL ) {
       
Index: oce/src/Resource/Resource_Manager.cxx
===================================================================
--- oce.orig/src/Resource/Resource_Manager.cxx
+++ oce/src/Resource/Resource_Manager.cxx
@@ -189,7 +189,7 @@ static Standard_Integer WhatKindOfLine(O
   if (Debug)
     cout << "Key = '" << aToken1 << flush ;
 
-  if ((Pos = Line.FirstLocationNotInSet(WhiteSpace, Pos2+1, Line.Length()))) {
+  if ((Pos = Line.FirstLocationNotInSet(WhiteSpace, Pos2+1, Line.Length())) != 0) {
     if (Line.Value(Pos) == '\\')
       switch(Line.Value(Pos+1)) {
       case '\\' :
Index: oce/src/Standard/Standard_MMgrOpt.cxx
===================================================================
--- oce.orig/src/Standard/Standard_MMgrOpt.cxx
+++ oce/src/Standard/Standard_MMgrOpt.cxx
@@ -798,7 +798,7 @@ retry:
     HANDLE * aMBlock = NULL;
     // check for error and try allocating address space
     if ( ! hMap || GetLastError() == ERROR_ALREADY_EXISTS ||
-         ! (aMBlock = (HANDLE*)MapViewOfFile(hMap,FILE_MAP_WRITE,0,0,0)) ) 
+         (NULL == (aMBlock = (HANDLE*)MapViewOfFile(hMap,FILE_MAP_WRITE,0,0,0))) ) 
     {
       // close handle if allocated
       if ( hMap ) 
Index: oce/src/TestTopOpe/TestTopOpe_BOOP.cxx
===================================================================
--- oce.orig/src/TestTopOpe/TestTopOpe_BOOP.cxx
+++ oce/src/TestTopOpe/TestTopOpe_BOOP.cxx
@@ -64,11 +64,11 @@ extern void PrintKRO_PREPA();
 Standard_Integer TestTopOpe_BOOP::Prepare(const char* ns1,const char* ns2)
 {
   Standard_Integer err = 0;
-  if ((err = LoadShapes(ns1,ns2))) return err; // 0
-  if ((err = LoadnewDS())) return err; // 100
-  if ((err = DSF_Insert())) return err; // 100<,<200
-  if ((err = LoadnewHB())) return err; // 200
-  if ((err = Builder_Perform())) return err; // 200<,<300
+  if ((err = LoadShapes(ns1,ns2)) != 0) return err; // 0
+  if ((err = LoadnewDS()) != 0) return err; // 100
+  if ((err = DSF_Insert()) != 0) return err; // 100<,<200
+  if ((err = LoadnewHB()) != 0) return err; // 200
+  if ((err = Builder_Perform()) != 0) return err; // 200<,<300
   return 0;
 }
 
Index: oce/src/Visual3d/Visual3d_View.cxx
===================================================================
--- oce.orig/src/Visual3d/Visual3d_View.cxx
+++ oce/src/Visual3d/Visual3d_View.cxx
@@ -1137,7 +1137,7 @@ void Visual3d_View::SetViewOrientation (
         MyCView.Orientation.ViewScaleZ                  = float (Z);
 
         CustomIsModified =
-        MyCView.Orientation.IsCustomMatrix != MyViewOrientation.IsCustomMatrix();
+          Standard_Boolean(MyCView.Orientation.IsCustomMatrix != 0) != MyViewOrientation.IsCustomMatrix();  // note: warning should be removed by changing .IsCustomMatrix type
         MyCView.Orientation.IsCustomMatrix = MyViewOrientation.IsCustomMatrix();
         if ( MyViewOrientation.IsCustomMatrix() ) {
           Standard_Integer i, j;
@@ -1249,7 +1249,7 @@ void Visual3d_View::ViewOrientationReset
         MyCView.Orientation.ViewScaleZ                  = float (Z);
 
         CustomIsModified =
-        MyCView.Orientation.IsCustomMatrix != MyViewOrientation.IsCustomMatrix();
+          Standard_Boolean(MyCView.Orientation.IsCustomMatrix != 0) != MyViewOrientation.IsCustomMatrix(); // note: warning should be removed by changing .IsCustomMatrix type
         MyCView.Orientation.IsCustomMatrix = MyViewOrientation.IsCustomMatrix();
         if ( MyViewOrientation.IsCustomMatrix() ) {
           Standard_Integer i, j;
@@ -3582,7 +3582,7 @@ void Visual3d_View :: SetComputedMode (
  Standard_Integer                      StructId;
  Standard_Integer                      i = MyDisplayedStructure.Extent ();
 
- if (  !( ComputedModeIsActive = aMode )  ) {
+ if (  !( (ComputedModeIsActive = aMode) != 0 )   ) {
 
   while (  S1Iterator.More ()  ) {
 
